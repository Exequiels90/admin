{% extends "base.html" %}

{% block title %}Lista de productos{% endblock %}

{% block content %}
<h1 class="mb-4">Lista de productos</h1>

<table class="table table-bordered table-hover bg-white">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Categoría</th>
            <th>Precio Compra</th>
            <th>Precio Venta</th>
            <th>Activo</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for producto in productos %}
        <tr>
            <td>{{ producto['id_producto'] }}</td>
            <td>{{ producto['nombre'] }}</td>
            <td>{{ producto['categoria'] or "Sin categoría" }}</td>
            <td>${{ "%.2f"|format(producto['precio_compra'] or 0) }}</td>
            <td>${{ "%.2f"|format(producto['precio_venta'] or 0) }}</td>
            <td>{{ "Sí" if producto['activo'] else "No" }}</td>
            <td>
                <a href="{{ url_for('editar_producto', id_producto=producto['id_producto']) }}" class="btn btn-warning btn-sm">Editar</a>
                <a href="{{ url_for('eliminar_producto', id_producto=producto['id_producto']) }}"
                   class="btn btn-danger btn-sm"
                   onclick="return confirm('¿Estás seguro de eliminar este producto?')">
                   Eliminar
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
